{% extends 'base.html' %}
{% block title %}Edit {{ item.name }}{% endblock %}
{% block nav-elements %}
  <li><a href="#">My orders</a></li>
  <li><a href="{% url 'accounts:profile_view' %}">Profile</a></li>
  <li><a href="{% url 'accounts:logout_view' %}" class="login-btn" data-bs-toggle="modal" data-bs-target="#logoutModal">Logout</a></li>
{% endblock %}
{% block main %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <h3 class="mb-4 text-center">Edit <span class="text-warning">{{ item.name }}</span></h3>

          <form method="post">
            {% csrf_token %}

            <div class="mb-3">
              <label for="quantity" class="form-label">Quantity</label>
              <input type="number" name="quantity" value="{{ quantity }}" min="1" class="form-control" id="quantity" style="max-width: 120px;">
            </div>

            <div class="mb-4">
              <label class="form-label">Options</label>
              {% for option in options %}
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" name="options" value="{{ option.id }}" id="opt{{ option.id }}"
                         {% if option.id|stringformat:"s" in selected_option_ids %}checked{% endif %}>
                  <label class="form-check-label" for="opt{{ option.id }}">
                    {{ option.name }} <small class="text-muted">(+{{ option.extra_price }} SR)</small>
                  </label>
                </div>
              {% endfor %}
            </div>

            <div class="d-flex justify-content-between">
              <button type="submit" class="btn btn-warning px-4">Update</button>
              <a href="{% url 'orders:cart_view' shop_id %}" class="btn btn-outline-secondary px-4">Cancel</a>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
